import{S as il,i as rl,s as dl,e as i,t as f,c as r,a as p,h as _,d as o,b as d,g as M,G as e,k,m as C,L as At,an as ul,Q as Ot,ao as De,ae as ne,H as W,j as Ue,af as ae,T as St,w as cl,x as fl,f as Me,y as _l,ap as pl,aq as hl,q as vl,o as ml,ar as bl,B as gl,v as El,as as wt,ak as ol}from"./vendor-82259fc0.js";function xt(a,t,l){const s=a.slice();return s[27]=t[l],s[28]=t,s[29]=l,s}function el(a,t,l){const s=a.slice();return s[30]=t[l],s}function tl(a){let t,l;return{c(){t=i("p"),l=f("MLX90641: 37.2\xB0C"),this.h()},l(s){t=r(s,"P",{class:!0});var u=p(t);l=_(u,"MLX90641: 37.2\xB0C"),u.forEach(o),this.h()},h(){d(t,"class","svelte-dd64a2")},m(s,u){M(s,t,u),e(t,l)},d(s){s&&o(t)}}}function ll(a){let t,l=a[30].text+"",s,u,v;return{c(){t=i("option"),s=f(l),u=k(),this.h()},l(h){t=r(h,"OPTION",{});var c=p(t);s=_(c,l),u=C(c),c.forEach(o),this.h()},h(){t.__value=v=a[30].id,t.value=t.__value},m(h,c){M(h,t,c),e(t,s),e(t,u)},p:At,d(h){h&&o(t)}}}function Pl(a){let t,l;return{c(){t=i("p"),l=f("No video selected"),this.h()},l(s){t=r(s,"P",{class:!0});var u=p(t);l=_(u,"No video selected"),u.forEach(o),this.h()},h(){d(t,"class","svelte-dd64a2")},m(s,u){M(s,t,u),e(t,l)},p:At,d(s){s&&o(t)}}}function yl(a){let t,l,s,u,v,h,c,P;return{c(){t=i("img"),s=k(),u=i("label"),v=i("input"),h=f("Read temperature as sensor"),this.h()},l(g){t=r(g,"IMG",{src:!0,alt:!0,width:!0}),s=C(g),u=r(g,"LABEL",{});var E=p(u);v=r(E,"INPUT",{type:!0,class:!0}),h=_(E,"Read temperature as sensor"),E.forEach(o),this.h()},h(){ol(t.src,l="/images/thermal_example.jpg")||d(t,"src",l),d(t,"alt","Thermal feed example"),d(t,"width","100%"),d(v,"type","checkbox"),d(v,"class","svelte-dd64a2")},m(g,E){M(g,t,E),M(g,s,E),M(g,u,E),e(u,v),v.checked=a[4],e(u,h),c||(P=W(v,"change",a[17]),c=!0)},p(g,E){E[0]&16&&(v.checked=g[4])},d(g){g&&o(t),g&&o(s),g&&o(u),c=!1,P()}}}function kl(a){let t,l;return{c(){t=i("img"),this.h()},l(s){t=r(s,"IMG",{src:!0,alt:!0,width:!0}),this.h()},h(){ol(t.src,l="/images/video_example.jpg")||d(t,"src",l),d(t,"alt","Video feed example"),d(t,"width","100%")},m(s,u){M(s,t,u)},p:At,d(s){s&&o(t)}}}function sl(a){let t,l,s,u,v;function h(){a[20].call(l,a[28],a[29])}return{c(){t=f("to "),l=i("input"),s=f(" \xB0C"),this.h()},l(c){t=_(c,"to "),l=r(c,"INPUT",{type:!0,class:!0}),s=_(c," \xB0C"),this.h()},h(){d(l,"type","number"),d(l,"class","svelte-dd64a2")},m(c,P){M(c,t,P),M(c,l,P),ne(l,a[27].to),M(c,s,P),u||(v=[W(l,"input",h),W(l,"blur",a[14])],u=!0)},p(c,P){a=c,P[0]&1&&ae(l.value)!==a[27].to&&ne(l,a[27].to)},d(c){c&&o(t),c&&o(l),c&&o(s),u=!1,St(v)}}}function al(a,t){let l,s,u=t[27].id+"",v,h,c,P,g,E,q,I,X,D,y,Z,T,ie;function z(){t[18].call(c,t[28],t[29])}function $(){t[19].call(y,t[28],t[29])}let b=(t[27].directive=="rise"||t[27].directive=="return")&&sl(t);return{key:a,first:null,c(){l=i("p"),s=f("Action "),v=f(u),h=f(`:
					`),c=i("select"),P=i("option"),g=f("rise"),E=i("option"),q=f("dwell"),I=i("option"),X=f("return"),D=f(`
					for
					`),y=i("input"),Z=f(` seconds
					`),b&&b.c(),this.h()},l(L){l=r(L,"P",{class:!0});var N=p(l);s=_(N,"Action "),v=_(N,u),h=_(N,`:
					`),c=r(N,"SELECT",{});var x=p(c);P=r(x,"OPTION",{});var F=p(P);g=_(F,"rise"),F.forEach(o),E=r(x,"OPTION",{});var re=p(E);q=_(re,"dwell"),re.forEach(o),I=r(x,"OPTION",{});var de=p(I);X=_(de,"return"),de.forEach(o),x.forEach(o),D=_(N,`
					for
					`),y=r(N,"INPUT",{type:!0,class:!0}),Z=_(N,` seconds
					`),b&&b.l(N),N.forEach(o),this.h()},h(){P.__value="rise",P.value=P.__value,E.__value="dwell",E.value=E.__value,I.__value="return",I.value=I.__value,t[27].directive===void 0&&Ot(z),d(y,"type","number"),d(y,"class","svelte-dd64a2"),d(l,"class","svelte-dd64a2"),this.first=l},m(L,N){M(L,l,N),e(l,s),e(l,v),e(l,h),e(l,c),e(c,P),e(P,g),e(c,E),e(E,q),e(c,I),e(I,X),De(c,t[27].directive),e(l,D),e(l,y),ne(y,t[27].duration),e(l,Z),b&&b.m(l,null),T||(ie=[W(c,"change",z),W(y,"input",$),W(y,"blur",t[14])],T=!0)},p(L,N){t=L,N[0]&1&&u!==(u=t[27].id+"")&&Ue(v,u),N[0]&1&&De(c,t[27].directive),N[0]&1&&ae(y.value)!==t[27].duration&&ne(y,t[27].duration),t[27].directive=="rise"||t[27].directive=="return"?b?b.p(t,N):(b=sl(t),b.c(),b.m(l,null)):b&&(b.d(1),b=null)},d(L){L&&o(l),b&&b.d(),T=!1,St(ie)}}}function nl(a){let t,l,s,u,v;return{c(){t=f("to "),l=i("input"),s=f(" \xB0C"),this.h()},l(h){t=_(h,"to "),l=r(h,"INPUT",{type:!0,class:!0}),s=_(h," \xB0C"),this.h()},h(){d(l,"type","number"),d(l,"class","svelte-dd64a2")},m(h,c){M(h,t,c),M(h,l,c),ne(l,a[8]),M(h,s,c),u||(v=W(l,"input",a[23]),u=!0)},p(h,c){c[0]&256&&ae(l.value)!==h[8]&&ne(l,h[8])},d(h){h&&o(t),h&&o(l),h&&o(s),u=!1,v()}}}function Cl(a){let t,l,s,u,v,h,c,P,g,E,q,I,X,D,y,Z,T,ie,z,$,b,L,N,x,F,re,de,ue,Le,w,O,He,ee,U,j,et,Ce,tt,lt,st,ce,fe,Ne,at,nt,_e,ot,G,Ve,it,Te,rt,dt,J=[],Mt=new Map,Ge,H,ut,Re,ct,Q,pe,ft,he,_t,ve,pt,ht,oe,vt,qe,Ie,mt,bt,ye,gt,te,Et,Pt,we,me,Oe,yt,kt,be,Ct,je,Nt,Xe,le,Tt,ge,It,Dt,R=a[4]&&tl(),Ae=a[12],V=[];for(let n=0;n<Ae.length;n+=1)V[n]=ll(el(a,Ae,n));function Lt(n,m){return n[1]==1?kl:n[1]==2?yl:Pl}let We=Lt(a),K=We(a);_e=new ul({props:{data:a[11],options:a[13]}});let ze=a[0];const Ht=n=>n[27].id;for(let n=0;n<ze.length;n+=1){let m=xt(a,ze,n),A=Ht(m);Mt.set(A,J[n]=al(A,m))}let B=(a[6]=="rise"||a[6]=="return")&&nl(a);return{c(){t=i("div"),l=i("div"),s=i("div"),u=i("div"),v=i("span"),h=i("h3"),c=f("Temperatures"),P=k(),g=i("p"),E=f("Ambient: "),q=f(a[2]),I=f("\xB0C"),X=k(),D=i("p"),y=f("TMP36-1: "),Z=f(a[3]),T=f("\xB0C"),ie=k(),R&&R.c(),z=k(),$=i("div"),b=i("span"),L=i("h3"),N=f("Active GPIO Devices"),x=k(),F=i("p"),re=f("Peltier-1/2: heating"),de=k(),ue=i("p"),Le=f("Peltier-3/4: heating"),w=k(),O=i("p"),He=f("Peltier-5/6: heating"),ee=k(),U=i("span"),j=i("select");for(let n=0;n<V.length;n+=1)V[n].c();et=k(),Ce=i("h3"),tt=f("Video"),lt=k(),K.c(),st=k(),ce=i("div"),fe=i("span"),Ne=i("h3"),at=f("Configured Curve"),nt=k(),cl(_e.$$.fragment),ot=k(),G=i("span"),Ve=i("div"),it=k(),Te=i("h3"),rt=f("Curve configuration"),dt=k();for(let n=0;n<J.length;n+=1)J[n].c();Ge=k(),H=i("p"),ut=f("New action "),Re=f(a[5]),ct=f(`:
				`),Q=i("select"),pe=i("option"),ft=f("rise"),he=i("option"),_t=f("dwell"),ve=i("option"),pt=f("return"),ht=f(`
				for `),oe=i("input"),vt=f(` seconds
				`),B&&B.c(),qe=k(),Ie=i("button"),mt=f("Add"),bt=k(),ye=i("label"),gt=f("Start from "),te=i("input"),Et=f("\xB0C"),Pt=k(),we=i("div"),me=i("span"),Oe=i("h3"),yt=f("Statistics"),kt=k(),be=i("p"),Ct=f("Time left: "),je=f(a[9]),Nt=f(" mins"),Xe=k(),le=i("p"),Tt=f("Not feature complete, not indicative of final design"),this.h()},l(n){t=r(n,"DIV",{class:!0});var m=p(t);l=r(m,"DIV",{class:!0});var A=p(l);s=r(A,"DIV",{class:!0});var S=p(s);u=r(S,"DIV",{class:!0,style:!0});var Be=p(u);v=r(Be,"SPAN",{class:!0});var Ee=p(v);h=r(Ee,"H3",{class:!0});var Vt=p(h);c=_(Vt,"Temperatures"),Vt.forEach(o),P=C(Ee),g=r(Ee,"P",{class:!0});var Fe=p(g);E=_(Fe,"Ambient: "),q=_(Fe,a[2]),I=_(Fe,"\xB0C"),Fe.forEach(o),X=C(Ee),D=r(Ee,"P",{class:!0});var Je=p(D);y=_(Je,"TMP36-1: "),Z=_(Je,a[3]),T=_(Je,"\xB0C"),Je.forEach(o),ie=C(Ee),R&&R.l(Ee),Ee.forEach(o),Be.forEach(o),z=C(S),$=r(S,"DIV",{class:!0});var Bt=p($);b=r(Bt,"SPAN",{class:!0});var Pe=p(b);L=r(Pe,"H3",{class:!0});var Ut=p(L);N=_(Ut,"Active GPIO Devices"),Ut.forEach(o),x=C(Pe),F=r(Pe,"P",{class:!0});var Gt=p(F);re=_(Gt,"Peltier-1/2: heating"),Gt.forEach(o),de=C(Pe),ue=r(Pe,"P",{class:!0});var Rt=p(ue);Le=_(Rt,"Peltier-3/4: heating"),Rt.forEach(o),w=C(Pe),O=r(Pe,"P",{class:!0});var qt=p(O);He=_(qt,"Peltier-5/6: heating"),qt.forEach(o),Pe.forEach(o),Bt.forEach(o),S.forEach(o),ee=C(A),U=r(A,"SPAN",{class:!0});var Se=p(U);j=r(Se,"SELECT",{style:!0});var jt=p(j);for(let ke=0;ke<V.length;ke+=1)V[ke].l(jt);jt.forEach(o),et=C(Se),Ce=r(Se,"H3",{class:!0});var Xt=p(Ce);tt=_(Xt,"Video"),Xt.forEach(o),lt=C(Se),K.l(Se),Se.forEach(o),A.forEach(o),st=C(m),ce=r(m,"DIV",{class:!0});var Qe=p(ce);fe=r(Qe,"SPAN",{class:!0});var Ke=p(fe);Ne=r(Ke,"H3",{class:!0});var Wt=p(Ne);at=_(Wt,"Configured Curve"),Wt.forEach(o),nt=C(Ke),fl(_e.$$.fragment,Ke),Ke.forEach(o),ot=C(Qe),G=r(Qe,"SPAN",{class:!0});var se=p(G);Ve=r(se,"DIV",{class:!0}),p(Ve).forEach(o),it=C(se),Te=r(se,"H3",{class:!0});var zt=p(Te);rt=_(zt,"Curve configuration"),zt.forEach(o),dt=C(se);for(let ke=0;ke<J.length;ke+=1)J[ke].l(se);Ge=C(se),H=r(se,"P",{class:!0});var Y=p(H);ut=_(Y,"New action "),Re=_(Y,a[5]),ct=_(Y,`:
				`),Q=r(Y,"SELECT",{});var Ye=p(Q);pe=r(Ye,"OPTION",{});var Ft=p(pe);ft=_(Ft,"rise"),Ft.forEach(o),he=r(Ye,"OPTION",{});var Jt=p(he);_t=_(Jt,"dwell"),Jt.forEach(o),ve=r(Ye,"OPTION",{});var Qt=p(ve);pt=_(Qt,"return"),Qt.forEach(o),Ye.forEach(o),ht=_(Y,`
				for `),oe=r(Y,"INPUT",{type:!0,class:!0}),vt=_(Y,` seconds
				`),B&&B.l(Y),qe=C(Y),Ie=r(Y,"BUTTON",{});var Kt=p(Ie);mt=_(Kt,"Add"),Kt.forEach(o),Y.forEach(o),bt=C(se),ye=r(se,"LABEL",{});var Ze=p(ye);gt=_(Ze,"Start from "),te=r(Ze,"INPUT",{type:!0,class:!0}),Et=_(Ze,"\xB0C"),Ze.forEach(o),se.forEach(o),Qe.forEach(o),Pt=C(m),we=r(m,"DIV",{class:!0});var Yt=p(we);me=r(Yt,"SPAN",{class:!0});var $e=p(me);Oe=r($e,"H3",{class:!0});var Zt=p(Oe);yt=_(Zt,"Statistics"),Zt.forEach(o),kt=C($e),be=r($e,"P",{class:!0});var xe=p(be);Ct=_(xe,"Time left: "),je=_(xe,a[9]),Nt=_(xe," mins"),xe.forEach(o),$e.forEach(o),Yt.forEach(o),m.forEach(o),Xe=C(n),le=r(n,"P",{style:!0,class:!0});var $t=p(le);Tt=_($t,"Not feature complete, not indicative of final design"),$t.forEach(o),this.h()},h(){d(h,"class","svelte-dd64a2"),d(g,"class","svelte-dd64a2"),d(D,"class","svelte-dd64a2"),d(v,"class","controls svelte-dd64a2"),d(u,"class","column svelte-dd64a2"),Me(u,"max-width","45%"),d(L,"class","svelte-dd64a2"),d(F,"class","svelte-dd64a2"),d(ue,"class","svelte-dd64a2"),d(O,"class","svelte-dd64a2"),d(b,"class","controls svelte-dd64a2"),d($,"class","column svelte-dd64a2"),d(s,"class","row svelte-dd64a2"),Me(j,"float","right"),Me(j,"margin","4px 0"),a[1]===void 0&&Ot(()=>a[16].call(j)),d(Ce,"class","svelte-dd64a2"),d(U,"class","controls svelte-dd64a2"),d(l,"class","column svelte-dd64a2"),d(Ne,"class","svelte-dd64a2"),d(fe,"class","controls svelte-dd64a2"),d(Ve,"class","options svelte-dd64a2"),d(Te,"class","svelte-dd64a2"),pe.__value="rise",pe.value=pe.__value,he.__value="dwell",he.value=he.__value,ve.__value="return",ve.value=ve.__value,a[6]===void 0&&Ot(()=>a[21].call(Q)),d(oe,"type","number"),d(oe,"class","svelte-dd64a2"),d(H,"class","svelte-dd64a2"),d(te,"type","number"),d(te,"class","svelte-dd64a2"),d(G,"class","controls svelte-dd64a2"),d(ce,"class","column svelte-dd64a2"),d(Oe,"class","svelte-dd64a2"),d(be,"class","svelte-dd64a2"),d(me,"class","controls svelte-dd64a2"),d(we,"class","column svelte-dd64a2"),d(t,"class","row svelte-dd64a2"),Me(le,"font-size","smaller"),Me(le,"opacity","0.7"),Me(le,"margin-left","24px"),d(le,"class","svelte-dd64a2")},m(n,m){M(n,t,m),e(t,l),e(l,s),e(s,u),e(u,v),e(v,h),e(h,c),e(v,P),e(v,g),e(g,E),e(g,q),e(g,I),e(v,X),e(v,D),e(D,y),e(D,Z),e(D,T),e(v,ie),R&&R.m(v,null),e(s,z),e(s,$),e($,b),e(b,L),e(L,N),e(b,x),e(b,F),e(F,re),e(b,de),e(b,ue),e(ue,Le),e(b,w),e(b,O),e(O,He),e(l,ee),e(l,U),e(U,j);for(let A=0;A<V.length;A+=1)V[A].m(j,null);De(j,a[1]),e(U,et),e(U,Ce),e(Ce,tt),e(U,lt),K.m(U,null),e(t,st),e(t,ce),e(ce,fe),e(fe,Ne),e(Ne,at),e(fe,nt),_l(_e,fe,null),e(ce,ot),e(ce,G),e(G,Ve),e(G,it),e(G,Te),e(Te,rt),e(G,dt);for(let A=0;A<J.length;A+=1)J[A].m(G,null);e(G,Ge),e(G,H),e(H,ut),e(H,Re),e(H,ct),e(H,Q),e(Q,pe),e(pe,ft),e(Q,he),e(he,_t),e(Q,ve),e(ve,pt),De(Q,a[6]),e(H,ht),e(H,oe),ne(oe,a[7]),e(H,vt),B&&B.m(H,null),e(H,qe),e(H,Ie),e(Ie,mt),e(G,bt),e(G,ye),e(ye,gt),e(ye,te),ne(te,a[10]),e(ye,Et),e(t,Pt),e(t,we),e(we,me),e(me,Oe),e(Oe,yt),e(me,kt),e(me,be),e(be,Ct),e(be,je),e(be,Nt),M(n,Xe,m),M(n,le,m),e(le,Tt),ge=!0,It||(Dt=[W(j,"change",a[16]),W(Q,"change",a[21]),W(oe,"input",a[22]),W(Ie,"click",a[15]),W(te,"input",a[24]),W(te,"blur",a[14])],It=!0)},p(n,m){if((!ge||m[0]&4)&&Ue(q,n[2]),(!ge||m[0]&8)&&Ue(Z,n[3]),n[4]?R||(R=tl(),R.c(),R.m(v,null)):R&&(R.d(1),R=null),m[0]&4096){Ae=n[12];let S;for(S=0;S<Ae.length;S+=1){const Be=el(n,Ae,S);V[S]?V[S].p(Be,m):(V[S]=ll(Be),V[S].c(),V[S].m(j,null))}for(;S<V.length;S+=1)V[S].d(1);V.length=Ae.length}m[0]&4098&&De(j,n[1]),We===(We=Lt(n))&&K?K.p(n,m):(K.d(1),K=We(n),K&&(K.c(),K.m(U,null)));const A={};m[0]&2048&&(A.data=n[11]),_e.$set(A),m[0]&16385&&(ze=n[0],J=pl(J,m,Ht,1,n,ze,Mt,G,hl,al,Ge,xt)),(!ge||m[0]&32)&&Ue(Re,n[5]),m[0]&64&&De(Q,n[6]),m[0]&128&&ae(oe.value)!==n[7]&&ne(oe,n[7]),n[6]=="rise"||n[6]=="return"?B?B.p(n,m):(B=nl(n),B.c(),B.m(H,qe)):B&&(B.d(1),B=null),m[0]&1024&&ae(te.value)!==n[10]&&ne(te,n[10]),(!ge||m[0]&512)&&Ue(je,n[9])},i(n){ge||(vl(_e.$$.fragment,n),ge=!0)},o(n){ml(_e.$$.fragment,n),ge=!1},d(n){n&&o(t),R&&R.d(),bl(V,n),K.d(),gl(_e);for(let m=0;m<J.length;m+=1)J[m].d();B&&B.d(),n&&o(Xe),n&&o(le),It=!1,St(Dt)}}}function Nl(a,t,l){let s=[{id:0,directive:"rise",duration:300,to:40},{id:1,directive:"dwell",duration:300},{id:2,directive:"return",duration:300,to:37}],u=[{id:0,text:"No video device"},{id:1,text:"Generic Webcam"},{id:2,text:"Thermal Camera MLX90641"}],v,h=0,c=25.5,P=36.5,g=!0;setInterval(()=>{l(3,P=37+Math.round((Math.sin(h++*Math.PI/180)+Number.EPSILON)*10)/10-.5),l(2,c=26+Math.round((Math.sin(h++*Math.PI/180)+Number.EPSILON)*10)/10-.5),h%=360,l(9,D=Math.round(10*(D-3500/6e4))/10)},3500);let E,q,I,X,D=74,y=24;El(()=>{z(),setTimeout(z,3e3)});const Z=(w,O)=>w.p0.parsed.y>w.p1.parsed.y?O:void 0;let T={datasets:[{label:"",fill:!1,lineTension:.25,backgroundColor:"#ff3366",borderColor:"#ff3366",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointHoverRadius:5,pointHoverBackgroundColor:"rgb(0, 0, 0)",pointHoverBorderColor:"rgba(220, 220, 220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,segment:{borderColor:w=>Z(w,"#4D6CFA")},data:[{x:0,y:24},{x:300,y:40},{x:600,y:40},{x:900,y:37}]}]},ie={scales:{xAxis:{type:"linear",title:{display:!0,text:"Time (s)"}},yAxis:{title:{display:!0,text:"Temperature (\xB0C)"}}},plugins:{legend:{position:"bottom",display:!1}}};function z(){let w=0,O=y;l(11,T.datasets[0].data=[{x:w,y:O}],T);for(let ee=0;ee<s.length;ee++){let U;s[ee].directive=="dwell"?U=s[ee-1].to||y:U=s[ee].to,w+=s[ee].duration,O=U;let j={x:w,y:O};T.datasets[0].data.push(j)}let He={x:T.datasets[0].data[T.datasets[0].data.length-1].x+10*Math.abs(T.datasets[0].data[T.datasets[0].data.length-1].y-y),y};T.datasets[0].data.push(He),l(11,T),console.log(T)}function $(){console.log(q),console.log(E),console.log(I),console.log(X),s.push({id:E,directive:q,duration:I,to:X}),l(0,s),z()}function b(){v=wt(this),l(1,v),l(12,u)}function L(){g=this.checked,l(4,g)}function N(w,O){w[O].directive=wt(this),l(0,s)}function x(w,O){w[O].duration=ae(this.value),l(0,s)}function F(w,O){w[O].to=ae(this.value),l(0,s)}function re(){q=wt(this),l(6,q)}function de(){I=ae(this.value),l(7,I)}function ue(){X=ae(this.value),l(8,X)}function Le(){y=ae(this.value),l(10,y)}return a.$$.update=()=>{a.$$.dirty[0]&1&&l(5,E=1+s[s.length-1].id)},[s,v,c,P,g,E,q,I,X,D,y,T,u,ie,z,$,b,L,N,x,F,re,de,ue,Le]}class Il extends il{constructor(t){super();rl(this,t,Nl,Cl,dl,{},null,[-1,-1])}}export{Il as D};
