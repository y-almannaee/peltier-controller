import{S as rl,i as ol,s as dl,e as r,t as f,c as o,a as p,h as _,d as i,b as d,g as M,G as e,k,m as C,L as At,ak as ul,Q as Ot,al as Me,ae,H as W,j as Ue,af as se,T as St,w as cl,x as fl,f as Be,y as _l,am as pl,an as hl,q as vl,o as ml,ao as gl,B as bl,v as El,ap as wt,ai as il}from"./vendor-e9ee49ce.js";function xt(a,t,l){const s=a.slice();return s[27]=t[l],s[28]=t,s[29]=l,s}function el(a,t,l){const s=a.slice();return s[30]=t[l],s}function tl(a){let t,l;return{c(){t=r("p"),l=f("MLX90641: 37.2\xB0C"),this.h()},l(s){t=o(s,"P",{class:!0});var u=p(t);l=_(u,"MLX90641: 37.2\xB0C"),u.forEach(i),this.h()},h(){d(t,"class","svelte-dd64a2")},m(s,u){M(s,t,u),e(t,l)},d(s){s&&i(t)}}}function ll(a){let t,l=a[30].text+"",s,u,v;return{c(){t=r("option"),s=f(l),u=k(),this.h()},l(h){t=o(h,"OPTION",{});var c=p(t);s=_(c,l),u=C(c),c.forEach(i),this.h()},h(){t.__value=v=a[30].id,t.value=t.__value},m(h,c){M(h,t,c),e(t,s),e(t,u)},p:At,d(h){h&&i(t)}}}function Pl(a){let t,l;return{c(){t=r("p"),l=f("No video selected"),this.h()},l(s){t=o(s,"P",{class:!0});var u=p(t);l=_(u,"No video selected"),u.forEach(i),this.h()},h(){d(t,"class","svelte-dd64a2")},m(s,u){M(s,t,u),e(t,l)},p:At,d(s){s&&i(t)}}}function yl(a){let t,l,s,u,v,h,c,P;return{c(){t=r("img"),s=k(),u=r("label"),v=r("input"),h=f("Read temperature as sensor"),this.h()},l(b){t=o(b,"IMG",{src:!0,alt:!0,width:!0}),s=C(b),u=o(b,"LABEL",{});var E=p(u);v=o(E,"INPUT",{type:!0,class:!0}),h=_(E,"Read temperature as sensor"),E.forEach(i),this.h()},h(){il(t.src,l="/images/thermal_example.jpg")||d(t,"src",l),d(t,"alt","Thermal feed example"),d(t,"width","100%"),d(v,"type","checkbox"),d(v,"class","svelte-dd64a2")},m(b,E){M(b,t,E),M(b,s,E),M(b,u,E),e(u,v),v.checked=a[4],e(u,h),c||(P=W(v,"change",a[17]),c=!0)},p(b,E){E[0]&16&&(v.checked=b[4])},d(b){b&&i(t),b&&i(s),b&&i(u),c=!1,P()}}}function kl(a){let t,l;return{c(){t=r("img"),this.h()},l(s){t=o(s,"IMG",{src:!0,alt:!0,width:!0}),this.h()},h(){il(t.src,l="/images/video_example.jpg")||d(t,"src",l),d(t,"alt","Video feed example"),d(t,"width","100%")},m(s,u){M(s,t,u)},p:At,d(s){s&&i(t)}}}function sl(a){let t,l,s,u,v;function h(){a[20].call(l,a[28],a[29])}return{c(){t=f("to "),l=r("input"),s=f(" \xB0C"),this.h()},l(c){t=_(c,"to "),l=o(c,"INPUT",{type:!0,class:!0}),s=_(c," \xB0C"),this.h()},h(){d(l,"type","number"),d(l,"class","svelte-dd64a2")},m(c,P){M(c,t,P),M(c,l,P),ae(l,a[27].to),M(c,s,P),u||(v=[W(l,"input",h),W(l,"blur",a[14])],u=!0)},p(c,P){a=c,P[0]&1&&se(l.value)!==a[27].to&&ae(l,a[27].to)},d(c){c&&i(t),c&&i(l),c&&i(s),u=!1,St(v)}}}function al(a,t){let l,s,u=t[27].id+"",v,h,c,P,b,E,j,I,X,D,y,Z,T,re;function z(){t[18].call(c,t[28],t[29])}function $(){t[19].call(y,t[28],t[29])}let g=(t[27].directive=="rise"||t[27].directive=="return")&&sl(t);return{key:a,first:null,c(){l=r("p"),s=f("Action "),v=f(u),h=f(`:
					`),c=r("select"),P=r("option"),b=f("rise"),E=r("option"),j=f("dwell"),I=r("option"),X=f("return"),D=f(`
					for
					`),y=r("input"),Z=f(` seconds
					`),g&&g.c(),this.h()},l(L){l=o(L,"P",{class:!0});var N=p(l);s=_(N,"Action "),v=_(N,u),h=_(N,`:
					`),c=o(N,"SELECT",{});var x=p(c);P=o(x,"OPTION",{});var F=p(P);b=_(F,"rise"),F.forEach(i),E=o(x,"OPTION",{});var oe=p(E);j=_(oe,"dwell"),oe.forEach(i),I=o(x,"OPTION",{});var de=p(I);X=_(de,"return"),de.forEach(i),x.forEach(i),D=_(N,`
					for
					`),y=o(N,"INPUT",{type:!0,class:!0}),Z=_(N,` seconds
					`),g&&g.l(N),N.forEach(i),this.h()},h(){P.__value="rise",P.value=P.__value,E.__value="dwell",E.value=E.__value,I.__value="return",I.value=I.__value,t[27].directive===void 0&&Ot(z),d(y,"type","number"),d(y,"class","svelte-dd64a2"),d(l,"class","svelte-dd64a2"),this.first=l},m(L,N){M(L,l,N),e(l,s),e(l,v),e(l,h),e(l,c),e(c,P),e(P,b),e(c,E),e(E,j),e(c,I),e(I,X),Me(c,t[27].directive),e(l,D),e(l,y),ae(y,t[27].duration),e(l,Z),g&&g.m(l,null),T||(re=[W(c,"change",z),W(y,"input",$),W(y,"blur",t[14])],T=!0)},p(L,N){t=L,N[0]&1&&u!==(u=t[27].id+"")&&Ue(v,u),N[0]&1&&Me(c,t[27].directive),N[0]&1&&se(y.value)!==t[27].duration&&ae(y,t[27].duration),t[27].directive=="rise"||t[27].directive=="return"?g?g.p(t,N):(g=sl(t),g.c(),g.m(l,null)):g&&(g.d(1),g=null)},d(L){L&&i(l),g&&g.d(),T=!1,St(re)}}}function nl(a){let t,l,s,u,v;return{c(){t=f("to "),l=r("input"),s=f(" \xB0C"),this.h()},l(h){t=_(h,"to "),l=o(h,"INPUT",{type:!0,class:!0}),s=_(h," \xB0C"),this.h()},h(){d(l,"type","number"),d(l,"class","svelte-dd64a2")},m(h,c){M(h,t,c),M(h,l,c),ae(l,a[8]),M(h,s,c),u||(v=W(l,"input",a[23]),u=!0)},p(h,c){c[0]&256&&se(l.value)!==h[8]&&ae(l,h[8])},d(h){h&&i(t),h&&i(l),h&&i(s),u=!1,v()}}}function Cl(a){let t,l,s,u,v,h,c,P,b,E,j,I,X,D,y,Z,T,re,z,$,g,L,N,x,F,oe,de,ue,De,w,O,Le,ee,U,q,et,Ce,tt,lt,st,ce,fe,Ne,at,nt,_e,it,G,He,rt,Te,ot,dt,J=[],Mt=new Map,Ge,H,ut,Re,ct,Q,pe,ft,he,_t,ve,pt,ht,ne,vt,je,Ie,mt,gt,ye,bt,te,Et,Pt,we,me,Oe,yt,kt,ge,Ct,qe,Nt,Xe,ie,Tt,be,It,Dt,R=a[4]&&tl(),Ae=a[12],V=[];for(let n=0;n<Ae.length;n+=1)V[n]=ll(el(a,Ae,n));function Lt(n,m){return n[1]==1?kl:n[1]==2?yl:Pl}let We=Lt(a),K=We(a);_e=new ul({props:{data:a[11],options:a[13]}});let ze=a[0];const Ht=n=>n[27].id;for(let n=0;n<ze.length;n+=1){let m=xt(a,ze,n),A=Ht(m);Mt.set(A,J[n]=al(A,m))}let B=(a[6]=="rise"||a[6]=="return")&&nl(a);return{c(){t=r("div"),l=r("div"),s=r("div"),u=r("div"),v=r("span"),h=r("h3"),c=f("Temperatures"),P=k(),b=r("p"),E=f("Ambient: "),j=f(a[2]),I=f("\xB0C"),X=k(),D=r("p"),y=f("TMP36-1: "),Z=f(a[3]),T=f("\xB0C"),re=k(),R&&R.c(),z=k(),$=r("div"),g=r("span"),L=r("h3"),N=f("Active GPIO Devices"),x=k(),F=r("p"),oe=f("Peltier-1: heating\u2003Peltier-2: heating"),de=k(),ue=r("p"),De=f("Peltier-3: heating\u2003Peltier-4: heating"),w=k(),O=r("p"),Le=f("Peltier-5: heating\u2003Peltier-6: heating"),ee=k(),U=r("span"),q=r("select");for(let n=0;n<V.length;n+=1)V[n].c();et=k(),Ce=r("h3"),tt=f("Video"),lt=k(),K.c(),st=k(),ce=r("div"),fe=r("span"),Ne=r("h3"),at=f("Configured Curve"),nt=k(),cl(_e.$$.fragment),it=k(),G=r("span"),He=r("div"),rt=k(),Te=r("h3"),ot=f("Curve configuration"),dt=k();for(let n=0;n<J.length;n+=1)J[n].c();Ge=k(),H=r("p"),ut=f("New action "),Re=f(a[5]),ct=f(`:
				`),Q=r("select"),pe=r("option"),ft=f("rise"),he=r("option"),_t=f("dwell"),ve=r("option"),pt=f("return"),ht=f(`
				for `),ne=r("input"),vt=f(` seconds
				`),B&&B.c(),je=k(),Ie=r("button"),mt=f("Add"),gt=k(),ye=r("label"),bt=f("Start from "),te=r("input"),Et=f("\xB0C"),Pt=k(),we=r("div"),me=r("span"),Oe=r("h3"),yt=f("Statistics"),kt=k(),ge=r("p"),Ct=f("Time left: "),qe=f(a[9]),Nt=f(" mins"),Xe=k(),ie=r("p"),Tt=f("Not feature complete, not indicative of final design"),this.h()},l(n){t=o(n,"DIV",{class:!0});var m=p(t);l=o(m,"DIV",{class:!0});var A=p(l);s=o(A,"DIV",{class:!0});var S=p(s);u=o(S,"DIV",{class:!0,style:!0});var Ve=p(u);v=o(Ve,"SPAN",{class:!0});var Ee=p(v);h=o(Ee,"H3",{class:!0});var Vt=p(h);c=_(Vt,"Temperatures"),Vt.forEach(i),P=C(Ee),b=o(Ee,"P",{class:!0});var Fe=p(b);E=_(Fe,"Ambient: "),j=_(Fe,a[2]),I=_(Fe,"\xB0C"),Fe.forEach(i),X=C(Ee),D=o(Ee,"P",{class:!0});var Je=p(D);y=_(Je,"TMP36-1: "),Z=_(Je,a[3]),T=_(Je,"\xB0C"),Je.forEach(i),re=C(Ee),R&&R.l(Ee),Ee.forEach(i),Ve.forEach(i),z=C(S),$=o(S,"DIV",{class:!0});var Bt=p($);g=o(Bt,"SPAN",{class:!0});var Pe=p(g);L=o(Pe,"H3",{class:!0});var Ut=p(L);N=_(Ut,"Active GPIO Devices"),Ut.forEach(i),x=C(Pe),F=o(Pe,"P",{class:!0});var Gt=p(F);oe=_(Gt,"Peltier-1: heating\u2003Peltier-2: heating"),Gt.forEach(i),de=C(Pe),ue=o(Pe,"P",{class:!0});var Rt=p(ue);De=_(Rt,"Peltier-3: heating\u2003Peltier-4: heating"),Rt.forEach(i),w=C(Pe),O=o(Pe,"P",{class:!0});var jt=p(O);Le=_(jt,"Peltier-5: heating\u2003Peltier-6: heating"),jt.forEach(i),Pe.forEach(i),Bt.forEach(i),S.forEach(i),ee=C(A),U=o(A,"SPAN",{class:!0});var Se=p(U);q=o(Se,"SELECT",{style:!0});var qt=p(q);for(let ke=0;ke<V.length;ke+=1)V[ke].l(qt);qt.forEach(i),et=C(Se),Ce=o(Se,"H3",{class:!0});var Xt=p(Ce);tt=_(Xt,"Video"),Xt.forEach(i),lt=C(Se),K.l(Se),Se.forEach(i),A.forEach(i),st=C(m),ce=o(m,"DIV",{class:!0});var Qe=p(ce);fe=o(Qe,"SPAN",{class:!0});var Ke=p(fe);Ne=o(Ke,"H3",{class:!0});var Wt=p(Ne);at=_(Wt,"Configured Curve"),Wt.forEach(i),nt=C(Ke),fl(_e.$$.fragment,Ke),Ke.forEach(i),it=C(Qe),G=o(Qe,"SPAN",{class:!0});var le=p(G);He=o(le,"DIV",{class:!0}),p(He).forEach(i),rt=C(le),Te=o(le,"H3",{class:!0});var zt=p(Te);ot=_(zt,"Curve configuration"),zt.forEach(i),dt=C(le);for(let ke=0;ke<J.length;ke+=1)J[ke].l(le);Ge=C(le),H=o(le,"P",{class:!0});var Y=p(H);ut=_(Y,"New action "),Re=_(Y,a[5]),ct=_(Y,`:
				`),Q=o(Y,"SELECT",{});var Ye=p(Q);pe=o(Ye,"OPTION",{});var Ft=p(pe);ft=_(Ft,"rise"),Ft.forEach(i),he=o(Ye,"OPTION",{});var Jt=p(he);_t=_(Jt,"dwell"),Jt.forEach(i),ve=o(Ye,"OPTION",{});var Qt=p(ve);pt=_(Qt,"return"),Qt.forEach(i),Ye.forEach(i),ht=_(Y,`
				for `),ne=o(Y,"INPUT",{type:!0,class:!0}),vt=_(Y,` seconds
				`),B&&B.l(Y),je=C(Y),Ie=o(Y,"BUTTON",{});var Kt=p(Ie);mt=_(Kt,"Add"),Kt.forEach(i),Y.forEach(i),gt=C(le),ye=o(le,"LABEL",{});var Ze=p(ye);bt=_(Ze,"Start from "),te=o(Ze,"INPUT",{type:!0,class:!0}),Et=_(Ze,"\xB0C"),Ze.forEach(i),le.forEach(i),Qe.forEach(i),Pt=C(m),we=o(m,"DIV",{class:!0});var Yt=p(we);me=o(Yt,"SPAN",{class:!0});var $e=p(me);Oe=o($e,"H3",{class:!0});var Zt=p(Oe);yt=_(Zt,"Statistics"),Zt.forEach(i),kt=C($e),ge=o($e,"P",{class:!0});var xe=p(ge);Ct=_(xe,"Time left: "),qe=_(xe,a[9]),Nt=_(xe," mins"),xe.forEach(i),$e.forEach(i),Yt.forEach(i),m.forEach(i),Xe=C(n),ie=o(n,"P",{style:!0,class:!0});var $t=p(ie);Tt=_($t,"Not feature complete, not indicative of final design"),$t.forEach(i),this.h()},h(){d(h,"class","svelte-dd64a2"),d(b,"class","svelte-dd64a2"),d(D,"class","svelte-dd64a2"),d(v,"class","controls svelte-dd64a2"),d(u,"class","column svelte-dd64a2"),Be(u,"max-width","45%"),d(L,"class","svelte-dd64a2"),d(F,"class","svelte-dd64a2"),d(ue,"class","svelte-dd64a2"),d(O,"class","svelte-dd64a2"),d(g,"class","controls svelte-dd64a2"),d($,"class","column svelte-dd64a2"),d(s,"class","row svelte-dd64a2"),Be(q,"float","right"),Be(q,"margin","4px 0"),a[1]===void 0&&Ot(()=>a[16].call(q)),d(Ce,"class","svelte-dd64a2"),d(U,"class","controls svelte-dd64a2"),d(l,"class","column svelte-dd64a2"),d(Ne,"class","svelte-dd64a2"),d(fe,"class","controls svelte-dd64a2"),d(He,"class","options svelte-dd64a2"),d(Te,"class","svelte-dd64a2"),pe.__value="rise",pe.value=pe.__value,he.__value="dwell",he.value=he.__value,ve.__value="return",ve.value=ve.__value,a[6]===void 0&&Ot(()=>a[21].call(Q)),d(ne,"type","number"),d(ne,"class","svelte-dd64a2"),d(H,"class","svelte-dd64a2"),d(te,"type","number"),d(te,"class","svelte-dd64a2"),d(G,"class","controls svelte-dd64a2"),d(ce,"class","column svelte-dd64a2"),d(Oe,"class","svelte-dd64a2"),d(ge,"class","svelte-dd64a2"),d(me,"class","controls svelte-dd64a2"),d(we,"class","column svelte-dd64a2"),d(t,"class","row svelte-dd64a2"),Be(ie,"font-size","smaller"),Be(ie,"opacity","0.7"),d(ie,"class","svelte-dd64a2")},m(n,m){M(n,t,m),e(t,l),e(l,s),e(s,u),e(u,v),e(v,h),e(h,c),e(v,P),e(v,b),e(b,E),e(b,j),e(b,I),e(v,X),e(v,D),e(D,y),e(D,Z),e(D,T),e(v,re),R&&R.m(v,null),e(s,z),e(s,$),e($,g),e(g,L),e(L,N),e(g,x),e(g,F),e(F,oe),e(g,de),e(g,ue),e(ue,De),e(g,w),e(g,O),e(O,Le),e(l,ee),e(l,U),e(U,q);for(let A=0;A<V.length;A+=1)V[A].m(q,null);Me(q,a[1]),e(U,et),e(U,Ce),e(Ce,tt),e(U,lt),K.m(U,null),e(t,st),e(t,ce),e(ce,fe),e(fe,Ne),e(Ne,at),e(fe,nt),_l(_e,fe,null),e(ce,it),e(ce,G),e(G,He),e(G,rt),e(G,Te),e(Te,ot),e(G,dt);for(let A=0;A<J.length;A+=1)J[A].m(G,null);e(G,Ge),e(G,H),e(H,ut),e(H,Re),e(H,ct),e(H,Q),e(Q,pe),e(pe,ft),e(Q,he),e(he,_t),e(Q,ve),e(ve,pt),Me(Q,a[6]),e(H,ht),e(H,ne),ae(ne,a[7]),e(H,vt),B&&B.m(H,null),e(H,je),e(H,Ie),e(Ie,mt),e(G,gt),e(G,ye),e(ye,bt),e(ye,te),ae(te,a[10]),e(ye,Et),e(t,Pt),e(t,we),e(we,me),e(me,Oe),e(Oe,yt),e(me,kt),e(me,ge),e(ge,Ct),e(ge,qe),e(ge,Nt),M(n,Xe,m),M(n,ie,m),e(ie,Tt),be=!0,It||(Dt=[W(q,"change",a[16]),W(Q,"change",a[21]),W(ne,"input",a[22]),W(Ie,"click",a[15]),W(te,"input",a[24]),W(te,"blur",a[14])],It=!0)},p(n,m){if((!be||m[0]&4)&&Ue(j,n[2]),(!be||m[0]&8)&&Ue(Z,n[3]),n[4]?R||(R=tl(),R.c(),R.m(v,null)):R&&(R.d(1),R=null),m[0]&4096){Ae=n[12];let S;for(S=0;S<Ae.length;S+=1){const Ve=el(n,Ae,S);V[S]?V[S].p(Ve,m):(V[S]=ll(Ve),V[S].c(),V[S].m(q,null))}for(;S<V.length;S+=1)V[S].d(1);V.length=Ae.length}m[0]&4098&&Me(q,n[1]),We===(We=Lt(n))&&K?K.p(n,m):(K.d(1),K=We(n),K&&(K.c(),K.m(U,null)));const A={};m[0]&2048&&(A.data=n[11]),_e.$set(A),m[0]&16385&&(ze=n[0],J=pl(J,m,Ht,1,n,ze,Mt,G,hl,al,Ge,xt)),(!be||m[0]&32)&&Ue(Re,n[5]),m[0]&64&&Me(Q,n[6]),m[0]&128&&se(ne.value)!==n[7]&&ae(ne,n[7]),n[6]=="rise"||n[6]=="return"?B?B.p(n,m):(B=nl(n),B.c(),B.m(H,je)):B&&(B.d(1),B=null),m[0]&1024&&se(te.value)!==n[10]&&ae(te,n[10]),(!be||m[0]&512)&&Ue(qe,n[9])},i(n){be||(vl(_e.$$.fragment,n),be=!0)},o(n){ml(_e.$$.fragment,n),be=!1},d(n){n&&i(t),R&&R.d(),gl(V,n),K.d(),bl(_e);for(let m=0;m<J.length;m+=1)J[m].d();B&&B.d(),n&&i(Xe),n&&i(ie),It=!1,St(Dt)}}}function Nl(a,t,l){let s=[{id:0,directive:"rise",duration:300,to:40},{id:1,directive:"dwell",duration:300},{id:2,directive:"return",duration:300,to:37}],u=[{id:0,text:"No video device"},{id:1,text:"Generic Webcam"},{id:2,text:"Thermal Camera MLX90641"}],v,h=0,c=25.5,P=36.5,b=!0;setInterval(()=>{l(3,P=37+Math.round((Math.sin(h++*Math.PI/180)+Number.EPSILON)*10)/10-.5),l(2,c=26+Math.round((Math.sin(h++*Math.PI/180)+Number.EPSILON)*10)/10-.5),h%=360,l(9,D=Math.round(10*(D-3500/6e4))/10)},3500);let E,j,I,X,D=74,y=24;El(()=>{z(),setTimeout(z,3e3)});const Z=(w,O)=>w.p0.parsed.y>w.p1.parsed.y?O:void 0;let T={datasets:[{label:"",fill:!1,lineTension:.25,backgroundColor:"#ff3366",borderColor:"#ff3366",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointHoverRadius:5,pointHoverBackgroundColor:"rgb(0, 0, 0)",pointHoverBorderColor:"rgba(220, 220, 220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,segment:{borderColor:w=>Z(w,"#4D6CFA")},data:[{x:0,y:24},{x:300,y:40},{x:600,y:40},{x:900,y:37}]}]},re={scales:{xAxis:{type:"linear",title:{display:!0,text:"Time (s)"}},yAxis:{title:{display:!0,text:"Temperature (\xB0C)"}}},plugins:{legend:{position:"bottom",display:!1}}};function z(){let w=0,O=y;l(11,T.datasets[0].data=[{x:w,y:O}],T);for(let ee=0;ee<s.length;ee++){let U;s[ee].directive=="dwell"?U=s[ee-1].to||y:U=s[ee].to,w+=s[ee].duration,O=U;let q={x:w,y:O};T.datasets[0].data.push(q)}let Le={x:T.datasets[0].data[T.datasets[0].data.length-1].x+10*Math.abs(T.datasets[0].data[T.datasets[0].data.length-1].y-y),y};T.datasets[0].data.push(Le),l(11,T),console.log(T)}function $(){console.log(j),console.log(E),console.log(I),console.log(X),s.push({id:E,directive:j,duration:I,to:X}),l(0,s),z()}function g(){v=wt(this),l(1,v),l(12,u)}function L(){b=this.checked,l(4,b)}function N(w,O){w[O].directive=wt(this),l(0,s)}function x(w,O){w[O].duration=se(this.value),l(0,s)}function F(w,O){w[O].to=se(this.value),l(0,s)}function oe(){j=wt(this),l(6,j)}function de(){I=se(this.value),l(7,I)}function ue(){X=se(this.value),l(8,X)}function De(){y=se(this.value),l(10,y)}return a.$$.update=()=>{a.$$.dirty[0]&1&&l(5,E=1+s[s.length-1].id)},[s,v,c,P,b,E,j,I,X,D,y,T,u,re,z,$,g,L,N,x,F,oe,de,ue,De]}class Il extends rl{constructor(t){super();ol(this,t,Nl,Cl,dl,{},null,[-1,-1])}}export{Il as D};
